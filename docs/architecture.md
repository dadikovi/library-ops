# Architecture

This application consists of two independent microservices: library-shelf and library-stats. While the former provides only a  basic CRUD functionality over `Book` entities, the latter replicates all of these entities, and computes statistics about them. Also, it provides a REST API to access the computed statistics.

## Replication

Each time the database of `library-shelf` changes, it sends an event into a RabbitMQ queue called `shelfChanged`. `library-stats` listens to this queue (`ShelfChangedListener`), and it will execute the same changes to its own database. 

## Statistics

After each change all of the statistics are recalculated vy `StatCalculatorService`.

## Credits

Application skeleton, the business entities and the basic CRUD functionalities were generated by Jhipster. 

Query-by-example API, data replication and statistic mechanism were implemented by me.

